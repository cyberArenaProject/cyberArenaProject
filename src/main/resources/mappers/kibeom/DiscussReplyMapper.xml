<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.mvc.mapper.kibeom.DiscussReplyMapper">



    <insert id="insert">
        INSERT INTO discuss_reply
        (discussion_no, email, discussion_reply_content)
        values (#{discussionNo}, #{email}, #{discussionReplyContent})
    </insert>

    <select id="findAll" resultType="discussReply">
        select
        D.discussion_no,
        D.discussion_reply_content,
        D.discussion_reply_no,
        D.discussion_reply_created_at,
        U.nickname as email
        from discuss_reply D inner join user U
        on D.email = U.email
        where D.discussion_no = #{email}
    </select>



</mapper>

